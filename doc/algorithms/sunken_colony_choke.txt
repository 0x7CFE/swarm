R - максимальный радиус для поиска мест для санок
N - желаемое кол-во постройки санок
T - true если исследована технология транспорта, иначе false
координаты - (x,y)
расстояние - минимальное кол-во ходов королём от начала точки до конца
место - [(координаты,кол-во границ,расстояние до чоука)]
граница - соседство с местом, на котором нельзя строить здания
result = []
A=получить список координат на радиусе R от чоука
B=выбрать все координаты, принадлежащие базе из A
C=выбрать все места, на которых можно строить санки из координат B

while result.size!=N
	D=выбрать из C места, строительство на которых не перекроет выход
	E=для каждого места D посчитать границы с учётом потенциальных мест, которые лежат в массиве result (для первой итерации потенциальных мест нет)
        for i 0..R
	  F=E.filter() { |e| (e.borders+i) >= e.distance) && (T || e.borders < 3) }
          continue if F.size == 0
	  G=F.order_by borders DESC, distance DESC
          if T
             result.push F[0]
          else
            for f in F
              if f.neighbors.collect( borders == 3 ).size > 0
                 continue
              else
	         result.push f
                 break 2
